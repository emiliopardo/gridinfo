{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/templates/gridinfo.html","webpack:///./src/impl/ol/js/gridinfocontrol.js","webpack:///./src/facade/js/gridinfocontrol.js","webpack:///./src/facade/js/gridinfo.js","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","GridinfoControl","M","impl","Control","map","html","getMapImpl","values_","target","config","utils","isUndefined","GridinfoImplControl","exception","wfsUrl","wmsUrl","infoUrl","wfslayer","wfsLayer","infoLayer","wmsLayer","configFields","zoom","info","url","map_","geoJSON","popup","popupInfo","start","totalFeatures","batchsize","limit","selectedFeature","getInfoFeature","getInfoQuery","polygonStyle","style","Polygon","fill","color","opacity","stroke","width","polygonSelectedStyle","polygonSelectedStyle2","vectorLayer","layer","GeoJSON","source","crs","properties","type","features","extract","renderMode","Promise","success","fail","template","compileSync","addEvents","querySelector","control","this","addLayers","on","evt","HOVER_FEATURES","feature","selectedDataShow","LEAVE_FEATURES","setStyle","selectedDataHide","SELECT_FEATURES","udpateStyle","getFeatures","COMPLETED","clear","getZoom","selectedGrid","getLoadedGridWMS","getLayers","gridInfoFields","setGridFieldInfo","fieldsFilter","setCQLFieldsFilter","propertyNames","setPropertyNames","bbox","getBbox","bboxFilter","setCQLBboxFiler","encodeURI","showLoader","incrementalLoad","ADDED_WMS","CLICK","event","getLoadedLayer","mapClick","coord","imageClick","pixel","layerUrl","layerName","layerStyle","options","styles","mapBbox","imageSize","getImpl","getSize","getInfoUrl","x","min","y","max","featureTabOpts","icon","title","content","createLoader","innerHTML","Popup","panMapIfOutOfView","addTab","addPopup","popupContent","document","getElementsByClassName","addEventListener","remote","then","res","response","text","search","setTimeout","removePopup","layers","loadedLayer","index","length","WMS","isGridLayer","result","element","fields","wfs","JSON","parse","undefined","Math","wfsFeatures","forEach","f","newFeat","Feature","id","geom","getGeometry","coordinates","setGeometry","getId","push","addFeatures","hideLoader","gridCenter","getPolygonCenter","coordenada_X","coordenada_Y","setInfoTable","geometry","minPointX","minPointY","setInfoPopUp","filter","field","minValue","table","getAttribute","msg","loader","createElement","setAttribute","spinner","textLoader","createTextNode","appendChild","getElementById","remove","Gridinfo","Plugin","controls_","metadata_","api","metadata","control_","panel_","ui","Panel","collapsible","position","TL","className","collapsedButtonClass","tooltip","addControls","addPanels","ADDED_TO_MAP","fire","window","plugin","M$plugin$Gridinfo","M$control$GridinfoControl","M$impl$control$GridinfoControl"],"mappings":"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","file":"gridinfo.ol.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","module.exports = \"<div id=\\\"div-contenedor\\\" class=\\\"m-control m-container m-gridinfo\\\">\\n  <button id=\\\"ctrlTest\\\" class=\\\"g-cartografia-bandera\\\" title=\\\"AddFeature\\\"></button>\\n</div>\\n\";","/**\n * @module M/impl/control/GridinfoControl\n */\nexport default class GridinfoControl extends M.impl.Control {\n  /**\n   * This function adds the control to the specified map\n   *\n   * @public\n   * @function\n   * @param {M.Map} map to add the plugin\n   * @param {HTMLElement} html of the plugin\n   * @api stable\n   */\n  addTo(map, html) {\n    // super addTo - don't delete\n    super.addTo(map, html);\n  }\n\n  getTarget(map){\n    const olMap = map.getMapImpl();\n    return olMap.values_.target;\n  }\n}\n","/* eslint-disable no-console */\n/**\n * @module M/control/GridinfoControl\n */\n\nimport GridinfoImplControl from 'impl/gridinfocontrol';\nimport template from 'templates/gridinfo';\nexport default class GridinfoControl extends M.Control {\n  /**\n   * @classdesc\n   * Main constructor of the class. Creates a PluginControl\n   * control\n   *\n   * @constructor\n   * @extends {M.Control}\n   * @api stable\n   */\n  constructor(config) {\n    // 1. checks if the implementation can create PluginControl\n    if (M.utils.isUndefined(GridinfoImplControl)) {\n      M.exception('La implementación usada no puede crear controles GridinfoControl');\n    }\n    // 2. implementation of this control\n    const impl = new GridinfoImplControl();\n    super(impl, 'Gridinfo');\n    this.config = config\n    this.wfsUrl = this.config.wfsUrl;\n    this.wmsUrl = this.config.wmsUrl;\n    this.infoUrl = this.config.infoUrl;\n    this.wfslayer = this.config.wfsLayer;\n    this.infoLayer = this.config.infoLayer;\n    this.wmsLayer = null;\n    this.configFields = null;\n    this.zoom = this.config.zoom;\n    this.info = this.config.info;\n    this.url = null;\n    this.map_ = this.map\n    this.geoJSON = null;\n    this.popup = null;\n    this.popupInfo = null;\n    this.start = null;\n    this.totalFeatures = null;\n    this.batchsize = 100;\n    this.limit = 1000;\n    this.selectedFeature = null;\n    this.getInfoFeature = null;\n    this.getInfoQuery = false;\n\n    this.polygonStyle = new M.style.Polygon({\n      fill: {\n        color: '#ffffff',\n        opacity: 0,\n      },\n      stroke: {\n        color: '#cdcdcd',\n        width: 0.1\n      }\n    });\n\n    this.polygonSelectedStyle = new M.style.Polygon({\n      fill: {\n        color: '#FFFFFF',\n        opacity: 0,\n      },\n      stroke: {\n        color: '#FFFF00',\n        width: 4\n      }\n    });\n\n    this.polygonSelectedStyle2 = new M.style.Polygon({\n      fill: {\n        color: '#FFFFFF',\n        opacity: 0,\n      },\n      stroke: {\n        color: '#FF0000',\n        width: 4\n      }\n    });\n\n    this.vectorLayer = new M.layer.GeoJSON({\n      name: 'vectorLayer',\n      source: {\n        crs: {\n          properties: {\n            name: 'EPSG:25830'\n          },\n          type: 'name'\n        },\n        features: [],\n        type: 'FeatureCollection'\n      },\n      extract: false,\n    }, {\n    }, {\n      renderMode: 'image'\n    });\n  }\n\n\n  /**\n   * This function creates the view\n   *\n   * @public\n   * @function\n   * @param {M.Map} map to add the control\n   * @api stable\n   */\n  createView(map) {\n    return new Promise((success, fail) => {\n      const html = M.template.compileSync(template);\n      // Añadir código dependiente del DOM\n      this.addEvents(html);\n      success(html);\n    });\n  }\n\n  /**\n   * This function is called on the control activation\n   *\n   * @public\n   * @function\n   * @api stable\n   */\n  activate() {\n    // calls super to manage de/activation\n    super.activate();\n  }\n  /**\n   * This function is called on the control deactivation\n   *\n   * @public\n   * @function\n   * @api stable\n   */\n  deactivate() {\n    // calls super to manage de/activation\n    super.deactivate();\n  }\n  /**\n   * This function gets activation button\n   *\n   * @public\n   * @function\n   * @param {HTML} html of control\n   * @api stable\n   */\n  getActivationButton(html) {\n    return html.querySelector('.m-gridinfo button');\n  }\n\n  /**\n   * This function compares controls\n   *\n   * @public\n   * @function\n   * @param {M.Control} control to compare\n   * @api stable\n   */\n  equals(control) {\n    return control instanceof GridinfoControl;\n  }\n\n  // Add your own functions\n\n  addEvents(html) {\n    this.map_.addLayers(this.vectorLayer);\n\n\n    this.vectorLayer.on(M.evt.HOVER_FEATURES, (feature) => {\n      if (!this.getInfoQuery) {\n        this.selectedFeature = feature[0]\n        this.selectedDataShow(feature[0])\n      }\n    });\n\n\n    this.vectorLayer.on(M.evt.LEAVE_FEATURES, (feature) => {\n      if (!this.getInfoQuery) {\n        feature[0].setStyle(this.polygonStyle);\n        this.selectedFeature = null;\n        this.selectedDataHide();\n      }\n    });\n\n    this.vectorLayer.on(M.evt.SELECT_FEATURES, (feature) => {\n      this.getInfoFeature = feature[0];\n      this.udpateStyle(this.vectorLayer.getFeatures());\n    })\n\n    let zoom;\n    this.map_.on(M.evt.COMPLETED, () => {\n      this.map_.getMapImpl().on('moveend', () => {\n        this.vectorLayer.clear();\n        this.start = 0;\n        this.totalFeatures = 0;\n        zoom = this.map_.getZoom();\n        this.selectedGrid = this.getLoadedGridWMS(this.map_.getLayers());\n        if (zoom >= this.zoom && this.selectedGrid) {\n          this.gridInfoFields = this.setGridFieldInfo(this.selectedGrid)\n          this.fieldsFilter = this.setCQLFieldsFilter(this.gridInfoFields);\n          this.propertyNames = this.setPropertyNames(this.gridInfoFields);\n          this.bbox = this.map_.getBbox();\n          this.bboxFilter = this.setCQLBboxFiler(this.bbox)\n          this.url = encodeURI(this.wfsUrl + 'service=WFS&version=2.0.0&request=GetFeature&typeName=' + this.wfsLayer + '&CQL_FILTER=' + this.fieldsFilter + ' AND ' + this.bboxFilter + '&propertyName=' + this.propertyNames + '&outputFormat=application/json');\n          //console.log(this.url);\n          this.showLoader('Cargando datos');\n          this.incrementalLoad(this.vectorLayer, this.url, this.start, this.batchsize, this.totalFeatures, this.limit);\n        }\n\n        this.udpateStyle(this.vectorLayer.getFeatures());\n      });\n    });\n\n    this.map_.on(M.evt.ADDED_WMS, () => {\n      this.vectorLayer.clear();\n      this.start = 0;\n      this.totalFeatures = 0;\n      zoom = this.map_.getZoom();\n      this.selectedGrid = this.getLoadedGridWMS(this.map_.getLayers());\n      if (zoom >= this.zoom && this.selectedGrid) {\n        this.gridInfoFields = this.setGridFieldInfo(this.selectedGrid)\n        this.fieldsFilter = this.setCQLFieldsFilter(this.gridInfoFields);\n        this.propertyNames = this.setPropertyNames(this.gridInfoFields);\n        this.bbox = this.map_.getBbox();\n        this.bboxFilter = this.setCQLBboxFiler(this.bbox)\n        this.url = encodeURI(this.wfsUrl + 'service=WFS&version=2.0.0&request=GetFeature&typeName=' + this.wfsLayer + '&CQL_FILTER=' + this.fieldsFilter + ' AND ' + this.bboxFilter + '&propertyName=' + this.propertyNames + '&outputFormat=application/json');\n        this.showLoader('Cargando datos');\n        this.incrementalLoad(this.vectorLayer, this.url, this.start, this.batchsize, this.totalFeatures, this.limit);\n\n      }\n    })\n\n    this.map_.on(M.evt.CLICK, (event) => {\n      this.wmsLayer = this.getLoadedLayer(this.map_.getLayers());\n      if (this.selectedFeature) {\n        this.selectedFeature.setStyle(this.polygonStyle)\n        this.getInfoQuery = true;\n        this.udpateStyle(this.vectorLayer.getFeatures())\n      }\n      if (this.wmsLayer) {\n        let mapClick = event.coord;\n        let imageClick = event.pixel;\n        let layerUrl = this.infoUrl;\n        let layerName = this.infoLayer;\n        let layerStyle = this.wmsLayer.options.styles;\n        let mapBbox = this.map_.getBbox();\n        let imageSize = this.map_.getImpl().map_.getSize()\n        let getInfoUrl = layerUrl + 'request=GetFeatureInfo&service=WMS&version=1.1.1&layers=' + layerName + '&styles=' + layerStyle + '&srs=EPSG:25830&format=image/png&bbox=' + mapBbox.x.min + ',' + mapBbox.y.min + ',' + mapBbox.x.max + ',' + mapBbox.y.max + '&width=' + imageSize[0] + '&height=' + imageSize[1] + '&query_layers=' + layerName + '&info_format=text/html&feature_count=1&x=' + imageClick[0] + '&y=' + imageClick[1] + '&exceptions=application/vnd.ogc.se_xml';\n        let myContent = this.createLoader('Consultando Información');\n        let featureTabOpts = {\n          icon: 'g-cartografia-pin',\n          title: 'Información',\n          content: myContent.innerHTML,\n        };\n        this.popupInfo = new M.Popup({ panMapIfOutOfView: true });\n        this.popupInfo.addTab(featureTabOpts);\n        this.map_.addPopup(this.popupInfo, [mapClick[0], mapClick[1]]);\n        let popupContent = document.getElementsByClassName('m-body')[0];\n        let closePopupButton = document.getElementsByClassName('m-popup-closer')[0]\n        closePopupButton.addEventListener('click', () => {\n          this.getInfoFeature = null;\n          this.udpateStyle(this.vectorLayer.getFeatures())\n          this.getInfoQuery = false;\n        })\n\n        M.remote.get(getInfoUrl).then((res) => {\n          let response = res.text\n          if (response.search('<table ') != -1) {\n            popupContent.innerHTML = response;\n          } else {\n            popupContent.innerHTML = '<div class=\"info-msg\">No ha seleccionado una celdilla</div>';\n            this.getInfoFeature = null;\n            this.getInfoQuery = false;\n            setTimeout(() => {\n              if (this.popupInfo) {\n                this.map_.removePopup(this.popupInfo)\n              }\n            }, 500)\n\n          }\n          this.udpateStyle(this.vectorLayer.getFeatures())\n        })\n      }\n    })\n  }\n\n  getLoadedLayer(layers) {\n    let loadedLayer = null\n    for (let index = 0; index < layers.length; index++) {\n      const layer = layers[index];\n      if (layer instanceof M.layer.WMS && this.isGridLayer(layer)) {\n        loadedLayer = layer\n      }\n    }\n    return loadedLayer\n  }\n\n  getLoadedGridWMS(layers) {\n    let selectedGrid = null\n    for (let index = 0; index < layers.length; index++) {\n      const layer = layers[index];\n      if (layer instanceof M.layer.WMS && this.isGridLayer(layer)) {\n        selectedGrid = layer\n      }\n    }\n    return selectedGrid\n  }\n\n  isGridLayer(layer) {\n    let result = false;\n    for (let index = 0; index < this.config.length; index++) {\n      this.info = this.config[index];\n      if (layer.getImpl().url == this.info.wmsUrl) {\n        let info = this.info.info\n        for (let index = 0; index < info.length; index++) {\n          const element = info[index];\n          if (layer.name == element.wmsLayer && element.style == layer.options.styles) {\n            this.configFields = element;\n            this.wmsLayer = layer;\n            this.wfsUrl = this.info.wfsUrl;\n            this.infoUrl = this.info.infoUrl;\n            this.zoom = this.info.zoom;\n            this.wfsLayer = this.info.wfsLayer\n            this.infoLayer = this.info.infoLayer;\n            result = true\n          }\n\n        }\n      }\n    }\n\n    return result;\n  }\n\n  setGridFieldInfo(selectedGrid) {\n    let gridInfoFields = this.configFields.fields\n\n    return gridInfoFields\n  }\n\n  incrementalLoad(vectorLayer, url, start, batchsize, totalFeatures, limit) {\n    // Si es la primera ejecucion o si aun no las hemos cargado todas\n    if ((this.totalFeatures == 0) || (this.vectorLayer.getFeatures().length < this.totalFeatures)) {\n      // Para no pasarnos si hay limite definido\n      if (this.start + this.batchsize > this.limit) {\n        this.batchsize = this.limit - this.start;\n      }\n      M.remote.get(url + '&STARTINDEX=' + this.start + '&COUNT=' + this.batchsize).then((res) => {\n        let wfs = JSON.parse(res.text);\n        this.totalFeatures = wfs.totalFeatures;\n        // Si hay limite, tiene preferencia\n        this.totalFeatures = (this.limit === undefined) ? wfs.totalFeatures : Math.min(this.limit, this.totalFeatures);\n        let wfsFeatures = wfs.features;\n        let features = [];\n\n        wfsFeatures.forEach((f) => {\n          // Se combierte de multipolygon a polygon\n          let newFeat = new M.Feature(f.id, f);\n          let geom = newFeat.getGeometry();\n          geom.type = 'Polygon';\n          let coord = geom.coordinates[0];\n          geom.coordinates = coord;\n          newFeat.setGeometry(geom);\n          if (this.getInfoFeature && (newFeat.getId() == this.getInfoFeature.getId())) {\n            newFeat.setStyle(this.polygonSelectedStyle2)\n          } else {\n            newFeat.setStyle(this.polygonStyle)\n          }\n          features.push(newFeat);\n        });\n\n        this.start = this.start + this.batchsize;\n        this.vectorLayer.addFeatures(features);\n        // Si aun faltan features por cargar, iteramos\n        if (this.vectorLayer.getFeatures().length < this.totalFeatures) {\n          this.incrementalLoad(this.vectorLayer, this.url, this.start, this.batchsize, this.totalFeatures, this.limit);\n          //console.log('faltan por cargar datos')\n        } else {\n          //console.log('se cargaron los datos')\n          this.hideLoader()\n        }\n      });\n    }\n  }\n\n  setInfoPopUp(feature) {\n\n    let gridCenter = this.getPolygonCenter(feature.getGeometry())\n    let coordenada_X = gridCenter[0];\n    let coordenada_Y = gridCenter[1];\n    let myContent = this.setInfoTable(feature)\n    let featureTabOpts = {\n      icon: 'g-cartografia-pin',\n      title: 'Información',\n      content: myContent,\n    };\n    this.popup = new M.Popup({ panMapIfOutOfView: false });\n    this.popup.addTab(featureTabOpts);\n    setTimeout(() => {\n      this.map_.addPopup(this.popup, [coordenada_X, coordenada_Y]);\n    }, 200);\n  }\n\n  getPolygonCenter(geometry) {\n    let minPointX = geometry.coordinates[0][0][0]\n    let minPointY = geometry.coordinates[0][0][1]\n    let maxPointX = geometry.coordinates[0][2][0]\n    let maxPointY = geometry.coordinates[0][2][1]\n    let coor_x = ((maxPointX - minPointX) / 2) + minPointX\n    let coor_y = ((maxPointY - minPointY) / 2) + minPointY\n    return [coor_x, coor_y]\n  }\n\n  selectedDataShow(feature) {\n    feature.setStyle(this.polygonSelectedStyle);\n    this.setInfoPopUp(feature)\n  }\n\n  selectedDataHide() {\n    if (!this.getInfoQuery) {\n      this.map_.removePopup(this.popup)\n    }\n  }\n\n  setCQLBboxFiler(bbox) {\n    return 'BBOX(geom,' + bbox.x.min + ',' + bbox.y.min + ',' + bbox.x.max + ',' + bbox.y.max + ')';\n  }\n\n  setCQLFieldsFilter(gridInfoFields) {\n    let filter = null;\n    for (let index = 0; index < gridInfoFields.length; index++) {\n      const field = gridInfoFields[index];\n      if (index == 0) {\n        filter = field.field + '>' + field.minValue;\n      } else {\n        filter += ' AND ' + field.field + '>=' + field.minValue\n      }\n    }\n    return filter\n  }\n\n  setPropertyNames(gridInfoFields) {\n    let properties = null;\n    for (let index = 0; index < gridInfoFields.length; index++) {\n      const field = gridInfoFields[index];\n      if (index == 0) {\n        properties = field.field\n      } else {\n        properties += ',' + field.field\n      }\n    }\n    properties += ',geom'\n    return properties\n  }\n\n  setInfoTable(feature) {\n    let table = '<table class=\"info-table\">'\n    for (let index = 0; index < this.gridInfoFields.length; index++) {\n      const element = this.gridInfoFields[index];\n      let value = feature.getAttribute(element.field)\n\n      if (feature.getAttribute(element.field) == -1) {\n        value = 'Secreto estadístico'\n      }\n      table += '<tr><td class=\"info-popup-key\">' + element.title + '</td><td class=\"info-popup-value\">' + value + '</td></tr>';\n    }\n    table += '</table>'\n    return table\n  }\n\n  udpateStyle(features) {\n    for (let index = 0; index < features.length; index++) {\n      const feature = features[index];\n      if (this.getInfoFeature && (feature.getId() == this.getInfoFeature.getId())) {\n        feature.setStyle(this.polygonSelectedStyle2)\n      } else {\n        feature.setStyle(this.polygonStyle)\n      }\n    }\n  }\n\n  createLoader(msg) {\n    let loader = document.createElement('div');\n    loader.setAttribute('id', 'loader');\n    loader.setAttribute('class', 'loader');\n    let spinner = document.createElement('div');\n    spinner.setAttribute('class', 'loader-spinner')\n\n    let textLoader = document.createElement('div')\n    textLoader.setAttribute('class', 'loader-text')\n    let text = document.createTextNode(msg);\n    textLoader.appendChild(text)\n    loader.appendChild(spinner);\n    loader.appendChild(textLoader);\n    return loader\n  }\n\n  showLoader(msg) {\n    let loader = this.createLoader(msg)\n    const mapeaContainer = document.querySelector('div.m-mapea-container');\n    mapeaContainer.appendChild(loader);\n  }\n\n  hideLoader() {\n    let loader = document.getElementById('loader');\n    loader.remove();\n  }\n}\n","/**\n * @module M/plugin/Gridinfo\n */\nimport 'assets/css/gridinfo';\nimport GridinfoControl from './gridinfocontrol';\nimport api from '../../api.json';\n\nexport default class Gridinfo extends M.Plugin {\n  /**\n   * @classdesc\n   * Main facade plugin object. This class creates a plugin\n   * object which has an implementation Object\n   *\n   * @constructor\n   * @extends {M.Plugin}\n   * @param {Object} impl implementation object\n   * @api stable\n   */\n  constructor(config) {\n    super();\n    /**\n     * Facade of the map\n     * @private\n     * @type {M.Map}\n     */\n    this.map_ = null;\n    this.config = config\n\n    /**\n     * Array of controls\n     * @private\n     * @type {Array<M.Control>}\n     */\n    this.controls_ = [];\n\n    /**\n     * Metadata from api.json\n     * @private\n     * @type {Object}\n     */\n    this.metadata_ = api.metadata;\n  }\n\n  /**\n   * This function adds this plugin into the map\n   *\n   * @public\n   * @function\n   * @param {M.Map} map the map to add the plugin\n   * @api stable\n   */\n  addTo(map) {\n    this.control_=new GridinfoControl(this.config)\n    this.controls_.push(this.control_);\n    this.map_ = map;\n    // panel para agregar control - no obligatorio\n    this.panel_ = new M.ui.Panel('panelGridinfo', {\n      collapsible: true,\n      position: M.ui.position.TL,\n      className: 'm-gridinfo',\n      collapsedButtonClass: 'g-cartografia-info',\n      tooltip: 'Consultar Información'\n    });\n    this.panel_.addControls(this.controls_);\n    map.addPanels(this.panel_);\n\n    this.control_.on(M.evt.ADDED_TO_MAP, () => {\n      this.fire(M.evt.ADDED_TO_MAP);\n    });\n  }\n\n  /**\n   * This function gets metadata plugin\n   *\n   * @public\n   * @function\n   * @api stable\n   */\n  getMetadata(){\n    return this.metadata_;\n  }\n}\n","import M$plugin$Gridinfo from '/home/epardo/proyectos/gridinfo/src/facade/js/gridinfo';\nimport M$control$GridinfoControl from '/home/epardo/proyectos/gridinfo/src/facade/js/gridinfocontrol';\nimport M$impl$control$GridinfoControl from '/home/epardo/proyectos/gridinfo/src/impl/ol/js/gridinfocontrol';\n\nif (!window.M.plugin) window.M.plugin = {};\nif (!window.M.control) window.M.control = {};\nif (!window.M.impl) window.M.impl = {};\nif (!window.M.impl.control) window.M.impl.control = {};\nwindow.M.plugin.Gridinfo = M$plugin$Gridinfo;\nwindow.M.control.GridinfoControl = M$control$GridinfoControl;\nwindow.M.impl.control.GridinfoControl = M$impl$control$GridinfoControl;\n"],"sourceRoot":""}